import unittest
from site_file_enricher.model.dto import FileElement, FileColData, InputElement
from site_file_enricher.search.fuzzy import search


class TestFuzzySearch(unittest.TestCase):
    def test_ktru(self):
        # given:
        input_data = [
            InputElement(index_in_input_file=11700,
                         link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2320300308025000015',
                         name='Креатинкиназа сердечный изофермент ИВД, набор, иммунохроматографический анализ, экспресс-анализ. Креатинкиназа сердечный изофермент ИВД, набор, иммунохроматографический анализ, экспресс-анализ',
                         price=1033701,
                         okpd_ktru='21.20.23.110-00008340'),
            InputElement(index_in_input_file=11701,
                         link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2320300308025000015',
                         name='Тропонин I ИВД, набор, иммунохроматографический анализ, экспресс-анализ. Тропонин I ИВД, набор, иммунохроматографический анализ, экспресс-анализ',
                         price=1430523,
                         okpd_ktru='21.20.23.110-00009551'),
            InputElement(index_in_input_file=11702,
                         link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2320300308025000015',
                         name='Скрытая кровь в кале ИВД, набор, иммунохроматографический анализ, экспресс-анализ, клинический. Скрытая кровь в кале ИВД, набор, иммунохроматографический анализ, экспресс-анализ, клинический',
                         price=659997,
                         okpd_ktru='21.20.23.110-00005860')]
        file_data = [
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2320300308025000015',
                product_name='Креатинкиназа сердечный изофермент ИВД, набор, иммунохроматографический анализ, экспресс-анализ',
                price=1430523, col_data=FileColData(index_num=1, name='trademark',
                                                    value='Креатинкиназа сердечный изофермент ИВД, набор, иммунохроматографический анализ, экспресс-анализ'),
                ktru='21.20.23.110-00008340', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2320300308025000015',
                product_name='Скрытая кровь в кале ИВД, набор, иммунохроматографический анализ, экспресс-анализ, клинический',
                price=659997, col_data=FileColData(index_num=3, name='trademark',
                                                   value='Скрытая кровь в кале ИВД, набор, иммунохроматографический анализ, экспресс-анализ, клинический'),
                ktru='21.20.23.110-00005860', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2320300308025000015',
                product_name='Тропонин I ИВД, набор, иммунохроматографический анализ, экспресс-анализ', price=1033701,
                col_data=FileColData(index_num=2, name='trademark',
                                     value='Тропонин I ИВД, набор, иммунохроматографический анализ, экспресс-анализ'),
                ktru='21.20.23.110-00009551', okpd='21.20.23.110')]
        # when:
        result = search(input_data, file_data)

        # then:
        self.assertEqual(3, len(result))
        self.assertEqual(0, len(result[0].new_col_datas))
        self.assertEqual(0, len(result[1].new_col_datas))
        self.assertEqual(1, len(result[2].new_col_datas))

    def test_duplicates(self):
        # given:
        input_data = [InputElement(index_in_input_file=5,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                                   name='Помпа инсулиновая инфузионная амбулаторная со встроенным глюкометром. Medtronic',
                                   price=14960000,
                                   okpd_ktru='32.50.50.190-00000403'),
                      InputElement(index_in_input_file=6,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                                   name='Помпа инсулиновая инфузионная амбулаторная со встроенным глюкометром. Medtronic',
                                   price=31570000,
                                   okpd_ktru='32.50.50.190-00000403'),
                      InputElement(index_in_input_file=7,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                                   name='Помпа инсулиновая инфузионная амбулаторная со встроенным глюкометром. Medtronic',
                                   price=39600000,
                                   okpd_ktru='32.50.50.190-00000403')]

        file_data = [
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Помпа инсулиновая инфузионная амбулаторная со встроенным глюкометром',
                price=14960000,
                col_data=FileColData(index_num=1, name='trademark', value='Medtronic1'),
                ktru='32.50.50.190-00000403',
                okpd='32.50.50.190'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Помпа инсулиновая инфузионная амбулаторная со встроенным глюкометром',
                price=31570000,
                col_data=FileColData(index_num=2, name='trademark', value='Medtronic2'),
                ktru='32.50.50.190-00000403',
                okpd='32.50.50.190'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Помпа инсулиновая инфузионная амбулаторная со встроенным глюкометром',
                price=39600000,
                col_data=FileColData(index_num=3, name='trademark', value='Medtronic3'),
                ktru='32.50.50.190-00000403',
                okpd='32.50.50.190')]

        result_data = {
            5: 'Medtronic1',
            6: 'Medtronic2',
            7: 'Medtronic3'
        }

        # when:
        result = search(input_data, file_data)

        # then:
        self.assertEqual(3, len(result))
        for out_el in result:
            self.assertEqual(
                result_data[out_el.index_in_input_file],
                out_el.new_col_datas[0].value
            )

    def test_search(self):
        # given:
        input_data = [InputElement(index_in_input_file=11,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор реагентов для количественного определения эстрадиола.ABBOTT',
                                   price=19500000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=12,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор калибраторов для количественного определения эстрадиола.ABBOTT',
                                   price=2258000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=13,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Лютеинизирующий гормон ИВД, иммунохемилюминесцентный анализ.ABBOTT',
                                   price=16950000,
                                   okpd_ktru='21.20.23.110-00010056'),
                      InputElement(index_in_input_file=14,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор реагентов для количественного определения прогестерона.ABBOTT',
                                   price=19550000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=15,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор реагентов для количественного определения прогестерона.ABBOTT',
                                   price=4070000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=16,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор калибраторов для количественного определения прогестерона.ABBOTT',
                                   price=1150000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=17,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Общий хорионический гонадотропин человека (ХГЧ) ИВД, реагент.ABBOTT',
                                   price=16100000,
                                   okpd_ktru='21.20.23.110-00010179'),
                      InputElement(index_in_input_file=18,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Хорионический гонадотропин человека бета-субъединица (бета-ХГЧ) ИВД, калибратор.ABBOTT',
                                   price=2258000,
                                   okpd_ktru='21.20.23.110-00010203'),
                      InputElement(index_in_input_file=19,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Общий тестостерон ИВД, набор, иммунохемилюминесцентный анализ.ABBOTT',
                                   price=14730000,
                                   okpd_ktru='21.20.23.110-00010291'),
                      InputElement(index_in_input_file=20,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Общий тестостерон ИВД, калибратор.ABBOTT',
                                   price=2258000,
                                   okpd_ktru='21.20.23.110-00010186'),
                      InputElement(index_in_input_file=21,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Дегидроэпиандростерона сульфат ИВД, калибратор.ABBOTT',
                                   price=4410000,
                                   okpd_ktru='21.20.23.110-00010077'),
                      InputElement(index_in_input_file=22,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор реагентов для количественного определения общего кортизола .ABBOTT',
                                   price=22500000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=23,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='С-пептид ИВД, калибратор.ABBOTT',
                                   price=2270000,
                                   okpd_ktru='21.20.23.110-00010364'),
                      InputElement(index_in_input_file=24,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Инсулин ИВД, калибратор.ABBOTT',
                                   price=2195000,
                                   okpd_ktru='21.20.23.110-00010327'),
                      InputElement(index_in_input_file=25,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор калибраторов для количественного определения глобулина, связывающий половые гормоны.ABBOTT',
                                   price=3415000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=26,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Глобулин, связывающий половые гормоны ИВД, контрольный материал',
                                   price=3351000,
                                   okpd_ktru='21.20.23.110-00010689'),
                      InputElement(index_in_input_file=27,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Контрольные материалы для подтверждения воспроизводимости и правильности количественного определения аутоантител класса IgG к тиреопероксидазе.ABBOTT',
                                   price=2258000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=28,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор реагентов для количественного определения антител к тиреоглобулину.ABBOTT',
                                   price=4500000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=29,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Контрольные материалы для оценки правильности количественного определения антител к тиреоглобулину.ABBOTT',
                                   price=2258000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=30,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор реагентов для количественного определения 25-ОН витамина D',
                                   price=60000000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=31,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор реагентов для количественного определения общего ПСА (общего простатоспецифическогоантигена).ABBOTT',
                                   price=21500000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=32,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор калибраторов для количественного определения общего ПСА(общего простатоспецифическогоантигена).ABBOTT',
                                   price=1105000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=33,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор реагентов для количественного определения свободного ПСА (свободного простатоспецифическогоантигена).ABBOTT',
                                   price=4480000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=34,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор калибраторов для количественного определения свободного ПСА(свободного простатоспецифическогоантигена).ABBOTT',
                                   price=1105000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=35,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор реагентов для количественного определения тиреотропного гормона (ТТГ).ABBOTT',
                                   price=12750000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=36,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Тиреотропный гормон (ТТГ) ИВД, калибратор.ABBOTT',
                                   price=1105000,
                                   okpd_ktru='21.20.23.110-00010395'),
                      InputElement(index_in_input_file=37,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор реагентов для количественного определения свободного трийодтиронина (Т3).ABBOTT',
                                   price=16000000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=38,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Калибраторы для обеспечения правильности количественного определения трийодтиронина свободного (Т3 свободный) .ABBOTT',
                                   price=3310000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=39,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Свободный тироксин ИВД, набор, иммунохемилюминесцентный анализ.ABBOTT',
                                   price=13610000,
                                   okpd_ktru='21.20.23.110-00010501'),
                      InputElement(index_in_input_file=40,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Набор калибраторов для обеспечения правильности количественного определения тироксина свободного (Т4 свободный).ABBOTT',
                                   price=1105000,
                                   okpd_ktru='21.20.23.111'),
                      InputElement(index_in_input_file=41,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Фолликулостимулирующий гормон ИВД, набор, иммунохемилюминесцентный анализ.ABBOTT',
                                   price=13850000,
                                   okpd_ktru='21.20.23.110-00010104'),
                      InputElement(index_in_input_file=42,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Лютеинизирующий гормон ИВД, калибратор.ABBOTT',
                                   price=2220000,
                                   okpd_ktru='21.20.23.110-00010057'),
                      InputElement(index_in_input_file=43,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Фолликулостимулирующий гормон ИВД, калибратор.ABBOTT',
                                   price=1150000,
                                   okpd_ktru='21.20.23.110-00010105'),
                      InputElement(index_in_input_file=44,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Пролактин ИВД, набор, иммунохемилюминесцентный анализ.ABBOTT',
                                   price=13400000,
                                   okpd_ktru='21.20.23.110-00010033'),
                      InputElement(index_in_input_file=45,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Пролактин ИВД, калибратор.ABBOTT',
                                   price=1150000,
                                   okpd_ktru='21.20.23.110-00010031'),
                      InputElement(index_in_input_file=46,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Дегидроэпиандростерона сульфат ИВД, набор, иммунохемилюминесцентный анализ.ABBOTT',
                                   price=5750000,
                                   okpd_ktru='21.20.23.110-00010076'),
                      InputElement(index_in_input_file=47,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Общий кортизол ИВД, калибратор.ABBOTT',
                                   price=2258000,
                                   okpd_ktru='21.20.23.110-00010693'),
                      InputElement(index_in_input_file=48,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='С-пептид ИВД, набор, иммунохемилюминесцентный анализ.ABBOTT',
                                   price=7450000,
                                   okpd_ktru='21.20.23.110-00010366'),
                      InputElement(index_in_input_file=49,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Инсулин ИВД, набор, иммунохемилюминесцентный анализ.ABBOTT',
                                   price=7750000,
                                   okpd_ktru='21.20.23.110-00010326'),
                      InputElement(index_in_input_file=50,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Глобулин, связывающий половые гормоны ИВД, набор, иммунохемилюминесцентный анализ.ABBOTT',
                                   price=6520000,
                                   okpd_ktru='21.20.23.110-00010687'),
                      InputElement(index_in_input_file=51,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Тиреопероксидаза антитела (АТ-ТПО, микросомальные антитела) ИВД, набор, иммунохемилюминесцентный анализ.ABBOTT',
                                   price=4650000,
                                   okpd_ktru='21.20.23.110-00010378'),
                      InputElement(index_in_input_file=52,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Тиреоглобулин/Тиреопероксидаза антитела (анти-ТПО/микросомальные антитела) ИВД, калибратор.ABBOTT',
                                   price=2258000,
                                   okpd_ktru='21.20.23.110-00010339'),
                      InputElement(index_in_input_file=53,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Тиреоглобулин антитела ИВД, калибратор.ABBOTT',
                                   price=2258000,
                                   okpd_ktru='21.20.23.110-00010346'),
                      InputElement(index_in_input_file=54,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Множественные формы 25-гидроксивитамина D ИВД, калибратор.ABBOTT',
                                   price=2237000,
                                   okpd_ktru='21.20.23.110-00010147'),
                      InputElement(index_in_input_file=55,
                                   link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                                   name='Множественные формы 25-гидроксивитамина D ИВД, контрольный материал.ABBOTT',
                                   price=2110000,
                                   okpd_ktru='21.20.23.110-00010148')]
        file_data = [
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор реагентов для количественного определения эстрадиола',
                price=19500000,
                col_data=FileColData(index_num=1, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор калибраторов для  количественного определения эстрадиола',
                price=2258000,
                col_data=FileColData(index_num=2, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Фолликулостимулирующий гормон ИВД, набор, иммунохемилюминесцентный анализ',
                price=13850000,
                col_data=FileColData(index_num=3, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010104', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Фолликулостимулирующий гормон ИВД, набор, иммунохемилюминесцентный анализ',
                price=13850000,
                col_data=FileColData(index_num=3, name='medicalProductCode', value='183380'),
                ktru='21.20.23.110-00010104', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Лютеинизирующий гормон ИВД, калибратор', price=2220000,
                col_data=FileColData(index_num=6, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010057', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Лютеинизирующий гормон ИВД, калибратор', price=2220000,
                col_data=FileColData(index_num=6, name='medicalProductCode', value='189350'),
                ktru='21.20.23.110-00010057', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Фолликулостимулирующий гормон ИВД, калибратор', price=1150000,
                col_data=FileColData(index_num=4, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010105', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Фолликулостимулирующий гормон ИВД, калибратор', price=1150000,
                col_data=FileColData(index_num=4, name='medicalProductCode', value='183350'),
                ktru='21.20.23.110-00010105', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Лютеинизирующий гормон ИВД, иммунохемилюминесцентный анализ',
                price=16950000,
                col_data=FileColData(index_num=5, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010056', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Лютеинизирующий гормон ИВД, иммунохемилюминесцентный анализ',
                price=16950000,
                col_data=FileColData(index_num=5, name='medicalProductCode', value='189400'),
                ktru='21.20.23.110-00010056', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор реагентов для количественного определения прогестерона',
                price=19550000,
                col_data=FileColData(index_num=7, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор реагентов для количественного определения прогестерона',
                price=4070000,
                col_data=FileColData(index_num=8, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор калибраторов для  количественного определения прогестерона',
                price=1150000,
                col_data=FileColData(index_num=9, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Общий хорионический гонадотропин человека (ХГЧ) ИВД, реагент',
                price=16100000,
                col_data=FileColData(index_num=10, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010179', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Общий хорионический гонадотропин человека (ХГЧ) ИВД, реагент',
                price=16100000,
                col_data=FileColData(index_num=10, name='medicalProductCode', value='205600'),
                ktru='21.20.23.110-00010179', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Хорионический гонадотропин человека бета-субъединица (бета-ХГЧ) ИВД, калибратор',
                price=2258000,
                col_data=FileColData(index_num=11, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010203', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Хорионический гонадотропин человека бета-субъединица (бета-ХГЧ) ИВД, калибратор',
                price=2258000,
                col_data=FileColData(index_num=11, name='medicalProductCode', value='223420'),
                ktru='21.20.23.110-00010203', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Пролактин ИВД, набор, иммунохемилюминесцентный анализ',
                price=13400000,
                col_data=FileColData(index_num=12, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010033', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Пролактин ИВД, набор, иммунохемилюминесцентный анализ',
                price=13400000,
                col_data=FileColData(index_num=12, name='medicalProductCode', value='116130'),
                ktru='21.20.23.110-00010033', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Пролактин ИВД, калибратор', price=1150000,
                col_data=FileColData(index_num=13, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010031', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Пролактин ИВД, калибратор', price=1150000,
                col_data=FileColData(index_num=13, name='medicalProductCode', value='116220'),
                ktru='21.20.23.110-00010031', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Общий тестостерон ИВД, набор, иммунохемилюминесцентный анализ',
                price=14730000,
                col_data=FileColData(index_num=14, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010291', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Общий тестостерон ИВД, набор, иммунохемилюминесцентный анализ',
                price=14730000,
                col_data=FileColData(index_num=14, name='medicalProductCode', value='325380'),
                ktru='21.20.23.110-00010291', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Общий тестостерон ИВД, калибратор', price=2258000,
                col_data=FileColData(index_num=15, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010186', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Общий тестостерон ИВД, калибратор', price=2258000,
                col_data=FileColData(index_num=15, name='medicalProductCode', value='206820'),
                ktru='21.20.23.110-00010186', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Дегидроэпиандростерона сульфат  ИВД,  набор, иммунохемилюминесцентный анализ',
                price=5750000,
                col_data=FileColData(index_num=16, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010076', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Дегидроэпиандростерона сульфат  ИВД,  набор, иммунохемилюминесцентный анализ',
                price=5750000,
                col_data=FileColData(index_num=16, name='medicalProductCode', value='148880'),
                ktru='21.20.23.110-00010076', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Дегидроэпиандростерона сульфат ИВД, калибратор', price=4410000,
                col_data=FileColData(index_num=17, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010077', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Дегидроэпиандростерона сульфат ИВД, калибратор', price=4410000,
                col_data=FileColData(index_num=17, name='medicalProductCode', value='148790'),
                ktru='21.20.23.110-00010077', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор реагентов для количественного определения общего кортизола ',
                price=22500000,
                col_data=FileColData(index_num=18, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name=' Общий кортизол ИВД, калибратор', price=2258000,
                col_data=FileColData(index_num=19, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010693', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name=' Общий кортизол ИВД, калибратор', price=2258000,
                col_data=FileColData(index_num=19, name='medicalProductCode', value='205030'),
                ktru='21.20.23.110-00010693', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='С-пептид ИВД, набор, иммунохемилюминесцентный анализ', price=7450000,
                col_data=FileColData(index_num=20, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010366', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='С-пептид ИВД, набор, иммунохемилюминесцентный анализ', price=7450000,
                col_data=FileColData(index_num=20, name='medicalProductCode', value='257420'),
                ktru='21.20.23.110-00010366', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='С-пептид ИВД, калибратор', price=2270000,
                col_data=FileColData(index_num=21, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010364', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='С-пептид ИВД, калибратор', price=2270000,
                col_data=FileColData(index_num=21, name='medicalProductCode', value='257440'),
                ktru='21.20.23.110-00010364', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Инсулин ИВД, набор, иммунохемилюминесцентный анализ', price=7750000,
                col_data=FileColData(index_num=22, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010326', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Инсулин ИВД, набор, иммунохемилюминесцентный анализ', price=7750000,
                col_data=FileColData(index_num=22, name='medicalProductCode', value='212550'),
                ktru='21.20.23.110-00010326', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Инсулин ИВД, калибратор', price=2195000,
                col_data=FileColData(index_num=23, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010327', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Инсулин ИВД, калибратор', price=2195000,
                col_data=FileColData(index_num=23, name='medicalProductCode', value='212410'),
                ktru='21.20.23.110-00010327', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Глобулин, связывающий половые гормоны ИВД, набор, иммунохемилюминесцентный анализ',
                price=6520000,
                col_data=FileColData(index_num=24, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010687', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Глобулин, связывающий половые гормоны ИВД, набор, иммунохемилюминесцентный анализ',
                price=6520000,
                col_data=FileColData(index_num=24, name='medicalProductCode', value='176130'),
                ktru='21.20.23.110-00010687', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор калибраторов для количественного определения  глобулина, связывающий половые гормоны',
                price=3415000,
                col_data=FileColData(index_num=25, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Глобулин, связывающий половые гормоны ИВД, контрольный материал',
                price=3351000,
                col_data=FileColData(index_num=26, name='medicalProductCode', value='176160'),
                ktru='21.20.23.110-00010689', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Тиреопероксидаза антитела (АТ-ТПО, микросомальные антитела) ИВД, набор, иммунохемилюминесцентный анализ',
                price=4650000,
                col_data=FileColData(index_num=27, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010378', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Тиреопероксидаза антитела (АТ-ТПО, микросомальные антитела) ИВД, набор, иммунохемилюминесцентный анализ',
                price=4650000,
                col_data=FileColData(index_num=27, name='medicalProductCode', value='239670'),
                ktru='21.20.23.110-00010378', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Тиреоглобулин/Тиреопероксидаза антитела (анти-ТПО/микросомальные антитела) ИВД, калибратор',
                price=2258000,
                col_data=FileColData(index_num=28, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010339', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Тиреоглобулин/Тиреопероксидаза антитела (анти-ТПО/микросомальные антитела) ИВД, калибратор',
                price=2258000,
                col_data=FileColData(index_num=28, name='medicalProductCode', value='237850'),
                ktru='21.20.23.110-00010339', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Контрольные материалы для подтверждения воспроизводимости и правильности количественного определения аутоантител класса IgG к тиреопероксидазе',
                price=2258000,
                col_data=FileColData(index_num=29, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор реагентов для количественного определения антител к тиреоглобулину',
                price=4500000,
                col_data=FileColData(index_num=30, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Тиреоглобулин антитела ИВД, калибратор', price=2258000,
                col_data=FileColData(index_num=31, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010346', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Тиреоглобулин антитела ИВД, калибратор', price=2258000,
                col_data=FileColData(index_num=31, name='medicalProductCode', value='238400'),
                ktru='21.20.23.110-00010346', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Контрольные материалы для оценки правильности количественного  определения антител к тиреоглобулину',
                price=2258000,
                col_data=FileColData(index_num=32, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Множественные формы 25-гидроксивитамина D ИВД, калибратор',
                price=2237000,
                col_data=FileColData(index_num=34, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010147', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Множественные формы 25-гидроксивитамина D ИВД, калибратор',
                price=2237000,
                col_data=FileColData(index_num=34, name='medicalProductCode', value='195830'),
                ktru='21.20.23.110-00010147', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Множественные формы 25-гидроксивитамина D ИВД, контрольный материал',
                price=2110000,
                col_data=FileColData(index_num=35, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010148', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Множественные формы 25-гидроксивитамина D ИВД, контрольный материал',
                price=2110000,
                col_data=FileColData(index_num=35, name='medicalProductCode', value='196590'),
                ktru='21.20.23.110-00010148', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор реагентов для количественного  определения общего ПСА (общего простатоспецифическогоантигена)',
                price=21500000,
                col_data=FileColData(index_num=36, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор калибраторов для  количественного определения общего ПСА(общего простатоспецифическогоантигена)',
                price=1105000,
                col_data=FileColData(index_num=37, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор реагентов для количественного  определения свободного ПСА (свободного  простатоспецифическогоантигена)',
                price=4480000,
                col_data=FileColData(index_num=38, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор калибраторов для  количественного определения свободного ПСА(свободного простатоспецифическогоантигена)',
                price=1105000,
                col_data=FileColData(index_num=39, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор реагентов для количественного определения тиреотропного гормона  (ТТГ)',
                price=12750000,
                col_data=FileColData(index_num=40, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Тиреотропный гормон (ТТГ) ИВД, калибратор', price=1105000,
                col_data=FileColData(index_num=41, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010395', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Тиреотропный гормон (ТТГ) ИВД, калибратор', price=1105000,
                col_data=FileColData(index_num=41, name='medicalProductCode', value='239140'),
                ktru='21.20.23.110-00010395', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор реагентов для количественного определения свободного трийодтиронина (Т3)',
                price=16000000,
                col_data=FileColData(index_num=42, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Калибраторы для обеспечения правильности количественного определения трийодтиронина свободного (Т3 свободный)  ',
                price=3310000,
                col_data=FileColData(index_num=43, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Свободный тироксин ИВД, набор, иммунохемилюминесцентный анализ',
                price=13610000,
                col_data=FileColData(index_num=44, name='trademark', value='ABBOTT'),
                ktru='21.20.23.110-00010501', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Свободный тироксин ИВД, набор, иммунохемилюминесцентный анализ',
                price=13610000,
                col_data=FileColData(index_num=44, name='medicalProductCode', value='108420'),
                ktru='21.20.23.110-00010501', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=2616410011824000637',
                product_name='Набор калибраторов для обеспечения правильности количественного определения тироксина свободного (Т4 свободный)',
                price=1105000,
                col_data=FileColData(index_num=45, name='trademark', value='ABBOTT'), ktru=None,
                okpd='21.20.23.111')]

        # when:
        result = search(input_data, file_data)

        # then:
        self.assertEqual(44, len(result))

    def test_search_example(self):
        # given:
        input_data = [
            InputElement(index_in_input_file=52,
                         link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1781308525024000662',
                         name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                         price=32251943,
                         okpd_ktru='21.20.23.110-00010280'),
            InputElement(index_in_input_file=53,
                         link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1781308525024000662',
                         name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                         price=33774986,
                         okpd_ktru='21.20.23.110-00010280')
        ]

        file_data = [
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='price', value='322519.43'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='indexNum', value='1'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='isDuplicated', value='false'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='OKPDCode', value='21.20.23.110'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='OKPDName', value='Реагенты диагностические'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='isMedicalProductInfo', value='true'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='medicalProductCode', value='332090'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='medicalProductName',
                                     value='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='certificateNameMedicalProduct',
                                     value='Реагент Ventana PD-L1 (SP142) IHC Assay для иммуногистохимической оценки лиганда-1 белка программируемой смерти в in vitro диагностике к иммуностейнерам автоматическим серии Ventana BenchMark'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='nationalCode', value='набор'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='OKEIInfo_name', value='Набор'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='OKEIInfo_code', value='704'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='countryCode', value='840'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='countryFullName', value='Соединенные Штаты Америки'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='VATCode', value='R10'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='VATName', value='10%'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='KTRUInfo_name',
                                     value='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой\r\n'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=32251943,
                col_data=FileColData(index_num=1, name='KTRUInfo_code', value='21.20.23.110-00010280'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='price', value='337749.86'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='indexNum', value='2'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='isDuplicated', value='false'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='OKPDCode', value='21.20.23.110'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='OKPDName', value='Реагенты диагностические'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='isMedicalProductInfo', value='true'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='medicalProductCode', value='332090'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(
                    index_num=2,
                    name='medicalProductName',
                    value='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(
                    index_num=2,
                    name='certificateNameMedicalProduct',
                    value='Реагент Ventana PD-L1 (SP263) Assay для качественного обнаружения лиганда-1 белка программируемой смерти Programmed Death Ligand 1 (PD-L1) иммуногистохимическим анализом в in vitro диагностике к иммуностейнерам автоматическим серии Ventana BenchMark'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='nationalCode', value='набор'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='OKEIInfo_name', value='Набор'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='OKEIInfo_code', value='704'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='countryCode', value='840'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='countryFullName', value='Соединенные Штаты Америки'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='VATCode', value='R10'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='VATName', value='10%'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='KTRUInfo_name',
                                     value='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой\r\n'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110'),
            FileElement(
                link='https://zakupki.gov.ru/epz/contract/contractCard/common-info.html?reestrNumber=1772801635124000615',
                product_name='Лиганд программируемой смерти клеток 1 ИВД, набор, иммуногистохимическая реакция с ферментной меткой',
                price=33774986,
                col_data=FileColData(index_num=2, name='KTRUInfo_code', value='21.20.23.110-00010280'),
                ktru='21.20.23.110-00010280', okpd='21.20.23.110')]

        # when:
        result = search(input_data, file_data)

        # then:
        self.assertEqual(2, len(result))
        self.assertEqual(18, len(result[0].new_col_datas))
        self.assertEqual(18, len(result[1].new_col_datas))


if __name__ == '__main__':
    unittest.main()
